@using Velstand.Helpers
@using Velstand.Models
@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{
    IPublishedContent current = CurrentPage;
    var contents = CurrentPage.VRoot().VHasContents().VWhereCategory(CurrentPage.GetPropertyValue<string>("category"), CurrentPage.Id).Take(4);
}

@foreach (IPublishedContent post in contents)
{

    <article class="collection">
        <div class="col s3 pull-left">
            <p class="Post-Eyecatch">
                <a href="@post.Url">@Html.Crop(post, "eyecatch", "blogEyecatch")</a>
            </p>
        </div>
        <div class="Description col s9">
            <h2><a href="@post.Url">@Umbraco.Field(post, "title")</a></h2>
            <hr />
            <p class="Post-Data">
                <span class="mdi-notification-event-note"> @string.Format(Umbraco.GetDictionaryValue("DateFormat"), post.GetPropertyValue<DateTime>("releaseDate"))</span>
                &nbsp;&nbsp;
                <span class="mdi-action-label"> @Html.CategoryWithLink(post, "category")</span>
            </p>
            <p class="Post-Introduction">@Umbraco.Field(post, "introduction")</p>
            <a class="Link-Btn" href="@post.Url">
                <span class="glyphicon glyphicon-check"></span> @Umbraco.GetDictionaryValue("HolderpageMoreButton")
            </a>
        </div>
    </article>
}